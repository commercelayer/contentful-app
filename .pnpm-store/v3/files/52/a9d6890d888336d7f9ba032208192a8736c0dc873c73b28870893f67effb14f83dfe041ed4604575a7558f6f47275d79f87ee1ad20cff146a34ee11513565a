"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const tslib_1=require("tslib"),createAuth_1=(0,tslib_1.__importDefault)(require("./createAuth")),authorizationCode_1=(0,tslib_1.__importDefault)(require("./authorizationCode")),authenticate=async({type,config,scope,code,refreshToken})=>{const auth=(0,createAuth_1.default)(config);let authRes=null;const opts={scopes:scope};if(type==="clientCredentials"&&(authRes=await auth.credentials.getToken(opts)),type==="refreshToken"&&refreshToken&&(authRes=await auth.createToken("",refreshToken,"refresh_token",{}).refresh()),type==="owner"&&(authRes=await auth.owner.getToken(config.username,config.password,opts)),type==="authorizationCode"){const uri=auth.code.getUri();authRes=await(0,authorizationCode_1.default)(auth,uri,code)}return authRes};exports.default=authenticate;